!function(t){function e(e){for(var i,h,r=e[0],s=e[1],l=e[2],d=0,f=[];d<r.length;d++)h=r[d],Object.prototype.hasOwnProperty.call(o,h)&&o[h]&&f.push(o[h][0]),o[h]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);for(u&&u(e);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(i=!1)}i&&(a.splice(e--,1),t=h(h.s=n[0]))}return t}var i={},o={0:0},a=[];function h(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,h),n.l=!0,n.exports}h.m=t,h.c=i,h.d=function(t,e,n){h.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},h.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.t=function(t,e){if(1&e&&(t=h(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(h.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)h.d(n,i,function(e){return t[e]}.bind(null,i));return n},h.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return h.d(e,"a",e),e},h.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},h.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=s;a.push([128,1]),n()}({128:function(t,e,n){n(129),t.exports=n(323)},322:function(t,e){},323:function(t,e,n){"use strict";n.r(e);var i=n(1),o=n(125),a=n(126),h=n.n(a);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s,l,u,d,f,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pathWidth=e.pathWidth||10,this.wall=e.wall||2,this.outerWall=e.outerWall||2,this.width=e.width||25,this.height=e.height||25,this.x=this.width/2|0,this.y=this.height/2|0,this.seed=e.seed||"1",this.wallColor=e.wallColor||"#000",this.pathColor=e.pathColor||"#fff",this.seedRand=new h.a(this.seed),this.delay=10,this.timer=null,this.init()}var e,n,i;return e=t,(n=[{key:"init",value:function(){this.offset=this.pathWidth/2+this.outerWall,this.map=[],this.canvas=document.createElement("canvas"),this.canvas.setAttribute("id","maze"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=2*this.outerWall+this.width*(this.pathWidth+this.wall)-this.wall,this.canvas.height=2*this.outerWall+this.height*(this.pathWidth+this.wall)-this.wall,this.ctx.fillStyle=this.wallColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.strokeStyle=this.pathColor,this.ctx.lineCap="square",this.ctx.lineWidth=this.pathWidth,this.ctx.beginPath();for(var t=0;t<2*this.height;t++){this.map[t]=[];for(var e=0;e<2*this.width;e++)this.map[t][e]=!1}this.map[2*this.y][2*this.x]=!0,this.route=[[this.x,this.y]],this.ctx.moveTo(this.x*(this.pathWidth+this.wall)+this.offset,this.y*(this.pathWidth+this.wall)+this.offset),this.generate()}},{key:"generate",value:function(){for(var t=0|this.route[this.route.length-1][0],e=0|this.route[this.route.length-1][1],n=[[1,0],[-1,0],[0,1],[0,-1]],i=[],o=0;o<n.length;o++)null!=this.map[2*(n[o][1]+e)]&&!1===this.map[2*(n[o][1]+e)][2*(n[o][0]+t)]&&i.push(n[o]);if(0===i.length)return this.route.pop(),void(this.route.length>0&&(this.ctx.moveTo(this.route[this.route.length-1][0]*(this.pathWidth+this.wall)+this.offset,this.route[this.route.length-1][1]*(this.pathWidth+this.wall)+this.offset),this.generate()));var a=i[this.seedRand()*i.length|0];this.route.push([a[0]+t,a[1]+e]),this.ctx.lineTo((a[0]+t)*(this.pathWidth+this.wall)+this.offset,(a[1]+e)*(this.pathWidth+this.wall)+this.offset),this.map[2*(a[1]+e)][2*(a[0]+t)]=!0,this.map[a[1]+2*e][a[0]+2*t]=!0,this.ctx.stroke(),this.route.length>0&&this.generate()}},{key:"getDataURL",value:function(){return this.canvas.toDataURL()}}])&&r(e.prototype,n),i&&r(e,i),t}(),p=n(127);function v(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function w(){var t=g(d);v(d.objColor);m(t,(function(t){f.material=t}))}function g(t){return new c(t).getDataURL()}function m(t,e){(new i.o).load(t,(function(t){var n=function(t){for(var e=t.texture,n=v(d.objColor),o=[],a=0;a<256;a++)o.push(new i.q(.5,.4,.3));var h={zTexture:{type:"t",value:e},zScale:{type:"f",value:1},zLut:{type:"v3v",value:o}};return new i.k({uniforms:h,vertexShader:"uniform sampler2D   zTexture;\n                            uniform float       zScale;\n                            uniform vec3        zLut[ 256 ];\n\n                            varying float vAmount;\n\n                            void main() {\n                                vec4 heightData = texture2D( zTexture, uv );\n\n                                vAmount = heightData.r * 6.; \n\n                                // move the position along the normal\n                                vec3 newPosition = position + normal * zScale * vAmount;\n\n                                gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 0.5 );\n                            }",fragmentShader:"uniform vec3 zLut[ 256 ];\n\n                            varying float vAmount;\n\n                            void main() {\n                                int index = int(vAmount) * 255;\n                                float brightness = 9.;\n                                vec3 vColor = vec3(vAmount/brightness, vAmount/brightness, vAmount/brightness);\n                                //gl_FragColor = vec4(zLut[32], 1.0);\n                                vec3 col2 = vec3 ((".concat(n.r,".0 / 255.0), (").concat(n.g,".0 / 255.0), (").concat(n.b,".0 / 255.0));\n                                gl_FragColor = vec4(mix(vColor,col2,0.5), 1.0);\n                            }"),side:i.c,flatshading:!0})}({texture:t});"function"==typeof e&&e(n)}))}function y(){u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight)}d=new function(){this.pathWidth=15,this.width=10,this.height=10,this.wall=15,this.wallColor="#ffffff",this.pathColor="#000000",this.objColor="#460a50",this.outerWall=5,this.seed="1"};var b=new p.a({width:650});b.add(d,"pathWidth").name("Width of the Maze Path").onChange(w),b.add(d,"width").name("Number paths fitted horisontally").onChange(w),b.add(d,"height").name("Number paths fitted vertically").onChange(w),b.add(d,"wall").name("Width of the Walls between Paths").onChange(w),b.add(d,"outerWall").name("Width of the Outer most wall").onChange(w),b.addColor(d,"wallColor").name("Heightmap Wall Color Differential").onChange(w),b.addColor(d,"pathColor").name("Heightmap Path Color Differential").onChange(w),b.addColor(d,"objColor").name("Sphere Base Color").onChange(w),b.add(d,"seed").name("Seed for the Random Number Generator").onChange(w);var C=g(d);!function(){l=new i.r({antialias:!0});var t=window.innerWidth,e=window.innerHeight;l.setSize(t,e),document.body.appendChild(l.domElement),s=new i.j,(u=new i.g(45,t/e,1,1e4)).position.y=25,u.position.z=-275,u.lookAt(new i.q(0,0,0)),new o.a(u,l.domElement).update();var n=new i.h(16777215);n.position.set(0,10,20),s.add(n);var a=new i.a(8421504);s.add(a);var h=new i.b(12632256);h.position.set(5,20,12),s.add(h),window.addEventListener("resize",y,!1)}(),m(C,(function(t){var e=new i.l(25,100,100);(f=new i.f(e,t)).rotation.x=-Math.PI/2,f.position.y=0,s.add(f)})),function t(){requestAnimationFrame(t),l.render(s,u)}()}});